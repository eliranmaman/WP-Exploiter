import requests
from bs4 import BeautifulSoup
from proxy import Proxy
import json
from xml.dom import minidom


class HTTPRequest:

    def __init__(self,proxies=None):
        print("Start")
        # self._proxies = Proxy()
        # self._currentProxy = None

    def request(self, url, method, parameters=None, timeout=20, proxy=False):
        # if proxy:
        #     self._proxies.cycle()
        #     self._currentProxy = self._proxies.proxy
        test = "Null"
        try:
            headers = {'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.95 Safari/537.36'}
            test = requests.request(method, url, headers=headers, timeout=20)
            return test.content

        except:
            # print("Time out ... ")
            return "404"

        # print(test)
        #
        # print("Finishg")


